#!/bin/bash
#
# Thin wrapper for git-suggest-message.ts
# Invokes the Deno script with appropriate permissions.
#

set -euo pipefail

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
DENO_SCRIPT="${SCRIPT_DIR}/git-suggest-message.ts"

if [[ ! -f "$DENO_SCRIPT" ]]; then
    echo "Error: git-suggest-message.ts not found in ${SCRIPT_DIR}" >&2
    exit 1
fi

exec deno run --allow-all --no-prompt "$DENO_SCRIPT" "$@"
